# ComfyTavern (beta)

### 一个面向创作者的LLM驱动可视化创作引擎

#### 这是一个基于节点画布的创作平台，旨在帮助创作者通过直观的拖拽界面设计复杂的AI交互体验，无需深入编程即可构建聊天机器人、视觉小说或文字RPG等内容。平台提供丰富的预设模板和规则集，让创作者专注于设定世界背景、角色人格和叙事逻辑，同时内置灵活的上下文管理与非线性对话功能，满足多样化的创作需求。对于有技术能力的用户，平台还支持通过内置的开发文档助手（Agent）自定义节点逻辑和界面样式，实现高度个性化的创作与包装。

---

### **核心特点**  
1. **创作者友好**  
   - **开箱即用模板**：提供预配置的节点链条（如AI聊天、分支剧情、RPG任务），创作者只需填充内容（如角色信息、世界观）。  
   - **专注于创作**：简化的操作流程，隐藏底层技术复杂度，突出规则设计与故事构建。  

2. **可视化叙事与交互**  
   - 通过节点画布编排对话分支、条件触发和上下文记忆。  
   - 支持动态生成用户友好的界面（如简易AI聊天框、视觉小说式选择器）。  

3. **开发者扩展性**  
   - **内置Agent助手**：通过自实现的文档助手引导开发者自定义节点、调整UI，甚至创建新模板。  
   - **开放性设计**：支持TypeScript定义节点逻辑，允许开发者为创作者社区贡献功能。  

4. **创作与技术平衡**  
   - 创作者可通过直观选项调整界面风格（如主题色、对话框样式）。  
   - 开发者可深入底层，扩展多模态功能（如图像生成、语音输出）。  

---

### **类比描述**  
- **对创作者**：像「Twine」+「SillyTavern」的升级版，提供更强大的AI驱动叙事和模板化体验。  
- **对开发者**：类似「Node-RED」或「ComfyUI」的轻量化版本，但专注于LLM交互与界面生成。  


# 注意！本项目仍处于早期开发阶段，许多设想中的功能还尚未实现。
**目前使用 Vue Flow 作为节点编辑器。**

## 项目结构

```
apps/
  ├── backend/         # 后端服务
  └── frontend-vueflow/# 前端 (基于 Vue Flow)
packages/
  ├── types/          # 共享类型定义
  └── utils/          # 共享工具函数
```

## 开发环境要求

- [Bun](https://bun.sh) v1.2.5 或更高版本
- Node.js v18 或更高版本（用于开发工具）
- Windows/Linux/macOS 操作系统

## 安装

```bash
# 安装依赖
bun install
```

## 运行

### Windows

```bash
# 启动生产模式
.\start.bat

# 启动开发模式
.\start.bat dev
```

### Linux/macOS

```bash
# 启动生产模式
./start.sh

# 启动开发模式
./start.sh dev
```

## 开发说明

- 开发服务器默认端口：
  - 前端：http://localhost:5573/
  - 后端：http://localhost:3233/

## 技术栈

- 前端：Vue 3 + TypeScript + Vite
- 节点编辑器：Vue Flow
- 后端：Bun + Elysia
- WebSocket：用于实时通信
