# Development Overview

## 1. 引言

本 `Development` 文档模块旨在为 ComfyTavern 项目的开发者提供一个全面的、集中的开发生命周期指南。它涵盖了从最初的环境设置到最终的代码部署的各个方面，旨在帮助开发者高效、规范地参与项目开发。

遵循这些文档中的指南对于保持项目的高质量标准、促进团队成员之间的有效协作，以及确保项目能够顺利迭代和成功交付至关重要。我们鼓励每一位开发者熟悉并遵守这些规范，共同打造一个健壮、可维护的 ComfyTavern 应用。

## 2. 开发生命周期概览

参与 ComfyTavern 项目的开发通常遵循以下典型的生命周期阶段：

1.  **环境准备**:
    *   搭建符合项目要求的本地开发环境。这包括安装必要的软件、克隆项目代码库、配置环境变量等。
    *   *详细指南请参考：[`EnvironmentSetup.md`](./EnvironmentSetup.md)*

2.  **编码与实现**:
    *   根据需求进行新功能开发或现有缺陷的修复。在此过程中，务必遵循项目既定的编码规范、代码风格和最佳实践，以保证代码的一致性和可读性。
    *   *详细规范请参考：[`CodingStandards.md`](./CodingStandards.md)*

3.  **质量保证**:
    *   编写和执行单元测试、组件测试以及必要的集成测试，以验证代码的正确性、功能的完整性和系统的健壮性。确保测试覆盖率达到项目要求。
    *   *详细策略与实践请参考：[`Testing.md`](./Testing.md)*

4.  **构建与部署**:
    *   在开发完成并通过测试后，（在需要时）构建生产版本的应用程序。了解项目的部署策略、流程和相关配置，确保应用能够顺利部署到目标环境。
    *   *详细流程与指南请参考：[`Deployment.md`](./Deployment.md)*

5.  **版本控制与协作**:
    *   使用 Git 进行代码的版本控制。遵循项目定义的分支策略（如功能分支、修复分支等）和代码提交规范。
    *   积极参与代码审查（Code Review）过程，提出有建设性的反馈，并根据审查意见修改代码，以提升整体代码质量。

## 3. 核心开发文档摘要与导航

本 `Development` 模块包含以下核心文档，为开发过程中的关键环节提供详细指导：

*   **环境搭建 ([`DesignDocs/整理/Development/EnvironmentSetup.md`](./EnvironmentSetup.md))**
    *   **摘要**: 此文档详细指导开发者如何从零开始配置 ComfyTavern 项目的本地开发环境。内容涵盖所需的先决条件（如 Node.js, Bun, Git）、项目代码的获取、依赖项的安装、环境变量的配置（包括前端和后端）、开发服务器的启动步骤，以及数据库（如果适用）的初步设置和整体开发环境的验证方法。

*   **编码规范 ([`DesignDocs/整理/Development/CodingStandards.md`](./CodingStandards.md))**
    *   **摘要**: 本文档全面概述了 ComfyTavern 项目的编码标准和约定。它包括代码格式化工具 (如 Prettier) 的配置与使用、代码风格检查工具 (如 ESLint) 的规则、TypeScript 和 Vue 3 (Composition API, `<script setup>`) 的具体使用规范、文件及代码内元素的命名约定（如组件、变量、函数、CSS 类名等）、中文注释的要求和最佳实践，以及 Git 提交信息的标准格式。此文档也作为入口，可能指向项目中更细分的具体规则或配置。

*   **测试策略与实践 ([`DesignDocs/整理/Development/Testing.md`](./Testing.md))**
    *   **摘要**: 此文档详细介绍了 ComfyTavern 项目所采用的测试策略、测试框架 (如 Vitest) 及相关工具的配置和使用。内容包括不同测试类型的定义和目标（单元测试、组件测试、集成测试、端到端测试）、如何编写和组织测试用例、运行各类测试脚本的命令和流程、测试覆盖率报告的生成与解读方法，以及编写高质量、可维护测试用例的最佳实践和常用的 Mocking/Stubbing 技术。

*   **部署流程与指南 ([`DesignDocs/整理/Development/Deployment.md`](./Deployment.md))**
    *   **摘要**: 本文档阐述了将 ComfyTavern 应用从开发环境构建并部署到生产（或其他目标）环境的完整流程和注意事项。内容包括生产版本的构建命令、推荐的部署策略（例如，使用 Docker 容器化部署、直接部署到服务器等）、生产环境中环境变量的配置方法、Web 服务器（如 Nginx）的关键配置示例、后端服务的生产环境运行与管理（如使用 PM2 或类似工具）、CI/CD (持续集成/持续部署) 流程的概述（如果适用），以及部署后的健康检查、日志监控和潜在问题的回滚策略。

## 4. 关键开发工具与技术栈回顾

在 ComfyTavern 项目的整个开发生命周期中，开发者会频繁接触和使用以下关键工具及核心技术栈：

*   **版本控制**: Git (配合 GitLab/GitHub 等平台)
*   **运行时 & 包管理器**: Bun
*   **构建工具**:
    *   前端: Vite
    *   后端: Bun (利用其内置的构建和打包能力)
*   **主要编程语言**: TypeScript
*   **核心框架**:
    *   前端: Vue 3 (重点使用 Composition API 和 `<script setup>` 语法)
    *   后端: Elysia (基于 Bun 的高性能框架)
*   **代码质量工具**:
    *   Linting: ESLint
    *   格式化: Prettier
*   **测试框架**: Vitest (配合 Vue Test Utils 等)
*   **集成开发环境 (IDE)**: 强烈推荐 Visual Studio Code (VSCode)，并建议安装项目推荐的相关插件以提升开发效率和体验。

## 5. 开发者贡献与协作指南

为了确保项目开发的有序进行和代码质量的持续提升，我们鼓励所有贡献者遵循以下协作指南：

*   **代码贡献流程**:
    *   通常采用标准的 Fork & Pull Request (或 Merge Request) 工作流。
    *   在开始开发新功能或修复缺陷前，请确保从最新的主开发分支（如 `main` 或 `develop`）创建新的特性分支或修复分支。
*   **分支命名约定**:
    *   建议遵循统一的分支命名约定，例如：
        *   新功能: `feat/descriptive-name` (例如: `feat/user-authentication`)
        *   缺陷修复: `fix/issue-id-or-description` (例如: `fix/login-button-bug`)
        *   文档: `docs/topic-name` (例如: `docs/update-readme`)
        *   重构: `refactor/area-of-refactor` (例如: `refactor/api-service-layer`)
*   **代码审查**:
    *   所有提交的代码都应经过至少一位其他团队成员的审查。
    *   审查者应关注代码的正确性、可读性、性能、安全性以及是否符合项目规范。
    *   提交者应积极响应审查意见，并进行必要的修改。
*   **沟通与协作**:
    *   鼓励开放和及时的沟通。遇到问题或有疑问时，请及时与团队成员讨论。
    *   使用项目管理工具（如 Jira, Trello, GitHub Issues）跟踪任务和缺陷。

更详细的贡献指南（如果存在）可能会在项目的根目录下的 `CONTRIBUTING.md` 文件中提供。如果该文件不存在或需要更具体的指导，请与项目维护者联系。